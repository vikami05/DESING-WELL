<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Campus Virtual - Python</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="campus.css">
</head>
<body>

<nav class="navbar">
  <span class="navbar-text">Bienvenido al Campus Educaci칩nIT</span>
  <div class="dropdown">
    <a class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" href="#" id="dropdownUser" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-person-circle user-icon"></i>
      <span class="ms-2">Usuario</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownUser">
      <li><a class="dropdown-item" href="../../inicio_campus.html"><i class="bi bi-house-door mb-2"></i>Inicio</a></li>
      <li><a class="dropdown-item" href="../../mis_cursos.html"><i class="bi bi-journal-text me-2"></i>Mis cursos</a></li>
      <li><a class="dropdown-item" href="../../index.html"><i class="bi bi-box-arrow-right me-2"></i>Salir</a></li>
    </ul>
  </div>
</nav>

<div class="campus-container">
  <aside class="sidebar">
    <h4>Python</h4>
    <ul class="list-group" id="lista-modulos"></ul>
  </aside>

  <main class="content d-flex flex-column justify-content-center align-items-center text-center">
    <div id="pantalla-inicial">
      <h2>Bienvenid@ al Curso de Python</h2>
      <p class="mt-3">
        En este curso aprender치s Python desde lo m치s b치sico hasta conceptos avanzados.
        Contamos con <strong>5 m칩dulos</strong> que incluyen:
      </p>
      <ul class="text-start mx-auto" style="max-width:500px;">
        <li>Introducci칩n y conceptos b치sicos</li>
        <li>Variables y tipos de datos</li>
        <li>Control de flujo</li>
        <li>Condicionales y listas</li>
        <li>Diccionarios y tuplas</li>
      </ul>
      <p class="mt-3">
        Ante cualquier duda, pod칠s escribir al correo de la profesora <strong>Mar칤a Lopez</strong>: 
        <a href="mailto:maria.lopez@educacionit.com">maria.lopez@educacionit.com</a>
      </p>
      <button id="btn-comenzar" class="btn btn-primary mt-3">Comenzar</button>
    </div>

    <div id="contenido-curso" style="display:none; width:100%;">
      <h2 id="titulo-leccion"></h2>
      <div id="contenido-leccion"></div>
      <div class="d-flex justify-content-end">
        <button id="btn-siguiente" class="btn btn-primary mt-3" onclick="siguienteTema()" disabled>Siguiente</button>
      </div>
    </div>

    <button id="btn-evaluacion" class="btn btn-warning mt-3" onclick="window.location.href='prueba.html'" style="display:none;">
      Realizar Evaluaci칩n Final
    </button>
  </main>
</div>

<script>
const curso = [
  {
    titulo: "M칩dulo 1: Introducci칩n",
    temas: [
      {
        titulo: "Instalaci칩n de Python",
        contenido: `
          <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/2BMaxJQxQ6U" title="Video Instalaci칩n de Python" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container text-center" style="max-width: 800px; margin: 0 auto;">
            <h3>Proceso de Instalaci칩n y Primeros Pasos</h3>
            <p>
              Instalar Python en tu computadora es un paso fundamental si deseas comenzar a programar o ejecutar scripts y aplicaciones que dependan de este lenguaje. Python es un lenguaje de programaci칩n de alto nivel, muy popular por su simplicidad, legibilidad y versatilidad, utilizado tanto por principiantes como por profesionales en desarrollo web, an치lisis de datos, inteligencia artificial, automatizaci칩n y muchas otras 치reas. A continuaci칩n, se detalla el proceso de instalaci칩n de Python en los sistemas operativos m치s comunes: Windows, macOS y Linux.
            </p>
            <p>
              Ante cualquier duda, puedes comunicarte con el profesor 
              <a href="mailto:maria.lopez@educacionit.com" style="text-decoration: none; color: #0d6efd; display: inline-flex; align-items: center; gap: 5px;">
                <i class="bi bi-envelope-fill"></i> maria.lopez@educacionit.com
              </a>
            </p>
          </div>
        </div>`
      },
      {
        titulo: "Operadores L칩gicos y de Comparaci칩n",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/TONhzLxD9WM" title="Video Operadores L칩gicos y de Comparaci칩n" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>쯈u칠 aprender치s?</h3>
            <p>Los operadores l칩gicos y de comparaci칩n son herramientas fundamentales en Python que nos permiten tomar decisiones y controlar el flujo de nuestro c칩digo. Se utilizan para comparar valores, combinar condiciones y determinar si ciertas afirmaciones son verdaderas o falsas, lo que resulta esencial para implementar estructuras de control como if, else y elif.</p>
          </div>
        </div>`
      }
    ]
  },
  {
    titulo: "M칩dulo 2: Variables y Tipos",
    temas: [
      {
        titulo: "Variables",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/XqWEAM3MAYE" title="Video Variables" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>쯈u칠 aprender치s?</h3>
            <p>En este tema aprender치s a declarar y usar variables en Python, uno de los conceptos fundamentales de cualquier lenguaje de programaci칩n. Las variables son espacios en la memoria donde podemos almacenar informaci칩n, como n칰meros, texto, valores booleanos o colecciones de datos, y manipularla a lo largo de nuestro programa.</p>
          </div>
        </div>`
      },
      {
        titulo: "Tipos de datos",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/lqowuoM4OJg" title="Video Tipos de Datos" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>쯈u칠 aprender치s?</h3>
            <p>En Python, los tipos de datos son fundamentales para almacenar y manipular informaci칩n de manera eficiente. Cada variable tiene un tipo que determina qu칠 valores puede almacenar y qu칠 operaciones se le pueden aplicar. Conocer los tipos b치sicos te permitir치 escribir programas correctos y m치s f치ciles de entender.</p>
          </div>
        </div>`
      }
    ]
  },
  {
    titulo: "M칩dulo 3: Condicionales y Listas",
    temas: [
      {
        titulo: "Condicionales",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/lLLr34ZDEJ4" title="Video Condicionales" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>쯈u칠 aprender치s?</h3>
            <p>Los condicionales en Python son una de las herramientas fundamentales para tomar decisiones dentro de un programa. Permiten que tu c칩digo reaccione de manera diferente seg칰n ciertas condiciones, haciendo posible implementar l칩gica din치mica y comportamientos distintos seg칰n los valores de las variables o las entradas del usuario.</p>
          </div>
        </div>`
      },
      {
        titulo: "Listas",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/lLLr34ZDEJ4" title="Video Listas" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>쯈u칠 aprender치s?</h3>
            <p>En Python, las listas son uno de los tipos de datos m치s vers치tiles y utilizados. Permiten almacenar colecciones de elementos ordenados, que pueden ser de cualquier tipo de dato: n칰meros, cadenas de texto, valores booleanos, e incluso otras listas. Aprender a trabajar con listas es fundamental para gestionar datos de manera eficiente y construir programas din치micos y flexibles.</p>
          </div>
        </div>`
      }
    ]
  },
  {
    titulo: "M칩dulo 4: Diccionarios y Tuplas",
    temas: [
      {
        titulo: "Diccionarios",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/IvxqTo6QBMU" title="Video Diccionarios" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>쯈u칠 aprender치s?</h3>
            <p>Los diccionarios son una estructura de datos fundamental en Python que permiten almacenar informaci칩n en pares clave-valor, lo que facilita el acceso r치pido y la organizaci칩n eficiente de datos. A diferencia de las listas o tuplas, los diccionarios no est치n ordenados por posici칩n, sino por claves 칰nicas.</p>
          </div>
        </div>`
      },
      {
        titulo: "Tuplas",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/jZjntRsHeRg" title="Video Tuplas" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>쯈u칠 aprender치s?</h3>
            <p>Las tuplas son una estructura de datos fundamental en Python que permiten almacenar colecciones de elementos ordenados, similares a las listas, pero con una diferencia clave: son inmutables, lo que las hace ideales para representar datos que no deben cambiar a lo largo del programa.</p>
          </div>
        </div>`
      }
    ]
  }
];

let moduloActual = 0;
let temaActual = 0;

const listaModulos = document.getElementById('lista-modulos');
const tituloLeccion = document.getElementById('titulo-leccion');
const contenidoLeccion = document.getElementById('contenido-leccion');
const btnSiguiente = document.getElementById('btn-siguiente');
const btnComenzar = document.getElementById('btn-comenzar');
const btnEvaluacion = document.getElementById('btn-evaluacion'); // bot칩n test

// === GUARDAR Y CARGAR PROGRESO LOCAL ===
function guardarProgreso() {
  const progreso = {
    moduloActual,
    temaActual,
    curso: curso.map(mod => ({
      habilitado: mod.habilitado,
      temas: mod.temas.map(t => ({
        hecho: t.hecho,
        habilitado: t.habilitado
      }))
    })),
    cursoCompletado: localStorage.getItem("cursoCompletado") === "true"
  };
  localStorage.setItem("progresoPython", JSON.stringify(progreso));
}

function cargarProgresoLocal() {
  const data = localStorage.getItem("progresoPython");
  if (!data) return false;
  const progreso = JSON.parse(data);

  progreso.curso.forEach((mod, i) => {
    curso[i].habilitado = mod.habilitado;
    mod.temas.forEach((t, j) => {
      curso[i].temas[j].hecho = t.hecho;
      curso[i].temas[j].habilitado = t.habilitado;
    });
  });

  moduloActual = progreso.moduloActual;
  temaActual = progreso.temaActual;

  return true;
}

// Inicializar estado
curso.forEach(m => {
  m.habilitado = false;
  m.temas.forEach(t => {
    t.hecho = false;
    t.habilitado = false;
  });
});

// Cargar m칩dulos en sidebar
function cargarModulos() {
  listaModulos.innerHTML = "";
  curso.forEach((modulo, i) => {
    const li = document.createElement('li');
    li.classList.add('list-group-item');
    if (!modulo.habilitado) li.classList.add('deshabilitado');

    const todosHechos = modulo.temas.every(t => t.hecho);
    const iconoCheck = todosHechos ? `<i class="bi bi-check2 modulo-completo"></i>` : "";

    li.innerHTML = `
      <a class="modulo-link" data-bs-toggle="collapse" href="#modulo${i}" role="button">
        ${modulo.titulo} ${iconoCheck} <i class="bi bi-chevron-down"></i>
      </a>
      <ul class="list-group collapse" id="modulo${i}"></ul>
    `;
    listaModulos.appendChild(li);

    const ulTemas = li.querySelector('ul');
    modulo.temas.forEach((tema, j) => {
      const temaLi = document.createElement('li');
      temaLi.classList.add('list-group-item', 'tema-item');
      temaLi.textContent = tema.titulo;

      if (tema.habilitado) {
        temaLi.style.cursor = 'pointer';
        temaLi.style.opacity = '1';
        temaLi.onclick = () => mostrarTema(i, j);
      } else {
        temaLi.style.cursor = 'not-allowed';
        temaLi.style.opacity = '0.5';
      }

      ulTemas.appendChild(temaLi);
    });
  });
}

// Mostrar tema
function mostrarTema(m, t) {
  if (!curso[m].habilitado || !curso[m].temas[t].habilitado) {
    alert("Debes completar los temas anteriores primero.");
    return;
  }

  moduloActual = m;
  temaActual = t;
  const tema = curso[m].temas[t];
  tituloLeccion.textContent = tema.titulo;
  contenidoLeccion.innerHTML = tema.contenido;

  let botonesHTML = `<button class="btn btn-success" id="btn-hecho">Marcar como hecho</button>`;
  if (m === 1 && t === 1) {
    botonesHTML += `<button class="btn btn-primary" id="btn-pdf" onclick="window.open('Material/EjerciciosPython.pdf', '_blank')">Ver PDF de pr치ctica</button>`;
  }

  const contenedorBotones = document.createElement('div');
  contenedorBotones.id = 'botones-leccion';
  contenedorBotones.className = 'd-flex gap-2 mt-3 justify-content-end';
  contenedorBotones.innerHTML = botonesHTML;
  contenidoLeccion.appendChild(contenedorBotones);

  btnSiguiente.disabled = true;
  btnSiguiente.style.display = (m === curso.length - 1 && t === curso[m].temas.length - 1)
    ? 'none' : 'inline-block';

  document.getElementById('btn-hecho').onclick = () => marcarComoHecho(m, t);

  // Mostrar bot칩n evaluaci칩n solo si es el 칰ltimo tema del 칰ltimo m칩dulo y no completado
  if (m === curso.length - 1 && t === curso[m].temas.length - 1 && localStorage.getItem("cursoCompletado") !== "true") {
    btnEvaluacion.style.display = 'block';
  } else {
    btnEvaluacion.style.display = 'none';
  }

  guardarProgreso();
}

// Marcar tema como hecho
function marcarComoHecho(m, t) {
  curso[m].temas[t].hecho = true;
  btnSiguiente.disabled = false;

  if (t + 1 < curso[m].temas.length) {
    curso[m].temas[t + 1].habilitado = true;
  } else if (m + 1 < curso.length) {
    curso[m + 1].habilitado = true;
    curso[m + 1].temas[0].habilitado = true;
  }

  guardarProgreso();
  cargarModulos();
}

// Aprobar curso despu칠s del test
function aprobarCurso() {
  localStorage.setItem("cursoCompletado", "true");
  guardarProgreso();
  mostrarCursoCompletadoGlobal();
}

// Mostrar curso completado
function mostrarCursoCompletadoGlobal() {
  btnEvaluacion.style.display = 'none';

  // Marcar todos los m칩dulos y temas como completados
  curso.forEach(mod => {
    mod.habilitado = true;
    mod.temas.forEach(t => t.hecho = true);
  });

  // Actualizar sidebar con check
  cargarModulos();

  // Mostrar mensaje central
  contenidoLeccion.innerHTML = "";
  const mensaje = document.createElement('div');
  mensaje.className = 'alert alert-success mt-4 text-center fw-bold';
  mensaje.textContent = '游꿀 춰Felicidades! Has completado el curso exitosamente.';
  contenidoLeccion.appendChild(mensaje);
}

// Bot칩n siguiente
function siguienteTema() {
  if (temaActual < curso[moduloActual].temas.length - 1) {
    mostrarTema(moduloActual, temaActual + 1);
  } else if (moduloActual < curso.length - 1) {
    mostrarTema(moduloActual + 1, 0);
  } else {
    btnSiguiente.disabled = true;
  }
  guardarProgreso();
}

// Bot칩n comenzar
btnComenzar.onclick = () => {
  document.getElementById('pantalla-inicial').style.display = 'none';
  document.getElementById('contenido-curso').style.display = 'block';
  curso[0].habilitado = true;
  curso[0].temas[0].habilitado = true;
  cargarModulos();
  mostrarTema(0, 0);
};

// === Al cargar la p치gina ===
document.addEventListener("DOMContentLoaded", () => {
  // Cargar progreso guardado
  cargarProgresoLocal();

  // Si el curso ya fue completado, mostrar mensaje autom치ticamente
  if (localStorage.getItem("cursoCompletado") === "true") {
    mostrarCursoCompletadoGlobal();
  } else {
    // Si hay progreso previo, cargar 칰ltimo m칩dulo y tema
    const tieneProgreso = cargarProgresoLocal();
    if (tieneProgreso) {
      document.getElementById('pantalla-inicial').style.display = 'none';
      document.getElementById('contenido-curso').style.display = 'block';
      cargarModulos();
      mostrarTema(moduloActual, temaActual);
    } else {
      // Si no hay progreso, cargar m칩dulos iniciales
      cargarModulos();
    }
  }
});


</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
